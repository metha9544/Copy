<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quick Chat Mobile Pro</title>
    <link rel="apple-touch-icon" href="icon.png.jpg">
    <link rel="icon" type="image/png" href="icon.png.jpg">
    <style>
        * { touch-action: manipulation; -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { font-family: -apple-system, sans-serif; background-color: #f0f2f5; margin: 0; padding: 15px; display: flex; flex-direction: column; align-items: center; }
        .card { width: 100%; max-width: 500px; background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        h2 { margin-top: 0; color: #1c1e21; text-align: center; font-size: 1.5rem; }
        input, textarea { width: 100%; padding: 14px; margin-bottom: 12px; border: 2px solid #e4e6eb; border-radius: 12px; font-size: 16px; outline: none; }
        input:focus, textarea:focus { border-color: #1877f2; }
        
        #save-btn { width: 100%; padding: 15px; background-color: #1877f2; color: white; border: none; border-radius: 12px; font-weight: bold; font-size: 16px; margin-bottom: 20px; }
        
        .grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; max-width: 500px; margin-top: 10px; }
        .copy-btn { background-color: white; border: 2px solid #1877f2; color: #1877f2; padding: 15px 10px; border-radius: 12px; font-size: 14px; font-weight: 600; text-align: center; word-wrap: break-word; transition: 0.2s; }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ï‡πà‡∏≤‡∏á‡πÜ */
        .copy-btn.edit-mode { border-color: #f39c12; color: #f39c12; animation: shake 0.5s infinite; }
        .copy-btn.delete-mode { border-color: #e74c3c; color: #e74c3c; animation: shake 0.5s infinite; }
        @keyframes shake { 0% {transform: rotate(1deg)} 50% {transform: rotate(-1deg)} 100% {transform: rotate(1deg)} }
        
        .success { background-color: #42b72a !important; color: white !important; border-color: #42b72a !important; }
        
        /* ‡πÅ‡∏ñ‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á */
        .admin-controls { display: flex; gap: 10px; width: 100%; max-width: 500px; margin-top: 30px; }
        .admin-btn { flex: 1; padding: 10px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; font-size: 14px; }
        .btn-edit { background: #f39c12; color: white; }
        .btn-delete { background: #e74c3c; color: white; }
        .btn-active { outline: 3px solid #333; transform: scale(0.95); opacity: 0.8; }
        
        .delete-all { margin-top: 20px; color: #bcc0c4; font-size: 12px; text-decoration: underline; cursor: pointer; }
    </style>
</head>
<body>

    <div class="card">
        <h2 id="form-title">üì± ‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î‡∏ï‡∏≠‡∏ö‡πÅ‡∏ä‡∏ó</h2>
        <input type="hidden" id="edit-index" value="-1">
        <input type="text" id="title" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ)">
        <textarea id="content" rows="3" placeholder="‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Å‡πä‡∏≠‡∏õ‡∏õ‡∏µ‡πâ..."></textarea>
        <button id="save-btn" onclick="saveData()">+ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î</button>
    </div>

    <div id="btn-grid" class="grid-container"></div>

    <div class="admin-controls">
        <button id="edit-mode-btn" class="admin-btn btn-edit" onclick="toggleMode('edit')">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
        <button id="delete-mode-btn" class="admin-btn btn-delete" onclick="toggleMode('delete')">üóëÔ∏è ‡∏•‡∏ö</button>
    </div>

    <div class="delete-all" onclick="clearAll()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>

<script>
    let currentMode = 'normal'; // normal, edit, delete

    window.onload = renderButtons;

    function toggleMode(mode) {
        if (currentMode === mode) {
            currentMode = 'normal';
        } else {
            currentMode = mode;
        }
        
        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
        document.getElementById('edit-mode-btn').classList.toggle('btn-active', currentMode === 'edit');
        document.getElementById('delete-mode-btn').classList.toggle('btn-active', currentMode === 'delete');
        
        renderButtons();
    }

    function saveData() {
        const title = document.getElementById('title').value;
        const content = document.getElementById('content').value;
        const editIndex = parseInt(document.getElementById('edit-index').value);

        if (!title || !content) return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");

        let shortcuts = JSON.parse(localStorage.getItem('shortcuts') || '[]');

        if (editIndex > -1) {
            shortcuts[editIndex] = { title, content };
            document.getElementById('edit-index').value = "-1";
            document.getElementById('save-btn').innerText = "+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î";
            document.getElementById('form-title').innerText = "üì± ‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î‡∏ï‡∏≠‡∏ö‡πÅ‡∏ä‡∏ó";
            currentMode = 'normal';
            document.getElementById('edit-mode-btn').classList.remove('btn-active');
        } else {
            shortcuts.push({ title, content });
        }

        localStorage.setItem('shortcuts', JSON.stringify(shortcuts));
        renderButtons();
        
        document.getElementById('title').value = '';
        document.getElementById('content').value = '';
    }

    function renderButtons() {
        const grid = document.getElementById('btn-grid');
        grid.innerHTML = '';
        const shortcuts = JSON.parse(localStorage.getItem('shortcuts') || '[]');

        shortcuts.forEach((item, index) => {
            const btn = document.createElement('div');
            btn.className = 'copy-btn';
            if (currentMode === 'edit') btn.classList.add('edit-mode');
            if (currentMode === 'delete') btn.classList.add('delete-mode');
            
            btn.innerText = item.title;
            
            btn.onclick = function() {
                if (currentMode === 'edit') {
                    prepareEdit(index);
                } else if (currentMode === 'delete') {
                    removeOne(index);
                } else {
                    copyToClipboard(item.content, btn);
                }
            };
            
            grid.appendChild(btn);
        });
    }

    function prepareEdit(index) {
        const shortcuts = JSON.parse(localStorage.getItem('shortcuts') || '[]');
        const item = shortcuts[index];
        
        document.getElementById('title').value = item.title;
        document.getElementById('content').value = item.content;
        document.getElementById('edit-index').value = index;
        
        document.getElementById('save-btn').innerText = "üíæ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç";
        document.getElementById('form-title').innerText = "‚úèÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...";
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function removeOne(index) {
        if(confirm("‡∏•‡∏ö‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?")) {
            let shortcuts = JSON.parse(localStorage.getItem('shortcuts') || '[]');
            shortcuts.splice(index, 1);
            localStorage.setItem('shortcuts', JSON.stringify(shortcuts));
            renderButtons();
        }
    }

    function copyToClipboard(text, element) {
        const originalText = element.innerText;
        navigator.clipboard.writeText(text).then(() => {
            element.innerText = "‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß";
            element.classList.add('success');
            setTimeout(() => {
                element.innerText = originalText;
                element.classList.remove('success');
            }, 800);
        });
    }

    function clearAll() {
        if(confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?")) {
            localStorage.removeItem('shortcuts');
            renderButtons();
        }
    }
</script>

</body>
</html>
